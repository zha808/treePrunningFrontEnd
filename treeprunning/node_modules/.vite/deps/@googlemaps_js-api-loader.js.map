{
  "version": 3,
  "sources": ["../../@googlemaps/js-api-loader/src/setScriptSrc.ts", "../../@googlemaps/js-api-loader/src/bootstrap.js", "../../@googlemaps/js-api-loader/src/messages.ts", "../../@googlemaps/js-api-loader/src/deprecated.ts", "../../@googlemaps/js-api-loader/src/index.ts"],
  "sourcesContent": ["/*\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport function setScriptSrc(script: HTMLScriptElement, src: string) {\n  script.src = src;\n}\n", "/*\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// THIS FILE IS AUTOGENERATED! DO NOT EDIT!\n\n// This is a less minified version of the \"Dynamic Library Import\" (with a few small differences to enable packaging):\n// https://developers.google.com/maps/documentation/javascript/load-maps-js-api#dynamic-library-import\n\n// @ts-nocheck\n\nimport {setScriptSrc} from './setScriptSrc.js';\n\nexport const bootstrap = bootstrapParams => {\n  var bootstrapPromise;\n  var script;\n  var bootstrapParamsKey;\n  var PRODUCT_NAME = \"The Google Maps JavaScript API\";\n  var GOOGLE = \"google\";\n  var IMPORT_API_NAME = \"importLibrary\";\n  var PENDING_BOOTSTRAP_KEY = \"__ib__\";\n  var doc = document;\n  var global_ = window;\n  var google_ = global_[GOOGLE] || (global_[GOOGLE] = {});\n  var namespace = google_.maps || (google_.maps = {});\n  var libraries = new Set();\n  var searchParams = new URLSearchParams();\n  var triggerBootstrap = () => bootstrapPromise || (bootstrapPromise = new Promise(async(resolve, reject) => {\n    await (script = doc.createElement(\"script\"));\n    searchParams.set(\"libraries\", [...libraries] + \"\");\n    for (bootstrapParamsKey in bootstrapParams) {\n      searchParams.set(bootstrapParamsKey.replace(/[A-Z]/g, g => \"_\" + g[0].toLowerCase()), bootstrapParams[bootstrapParamsKey]);\n    }\n    searchParams.set(\"callback\", GOOGLE + \".maps.\" + PENDING_BOOTSTRAP_KEY);\n    setScriptSrc(script, \"https://maps.googleapis.com/maps/api/js?\" + searchParams);\n    namespace[PENDING_BOOTSTRAP_KEY] = resolve;\n    script.onerror = () => bootstrapPromise = reject(Error(PRODUCT_NAME + \" could not load.\"));\n    script.nonce = doc.querySelector(\"script[nonce]\")?.nonce || \"\";\n    doc.head.append(script);\n  }));\n  namespace[IMPORT_API_NAME] ? console.warn(PRODUCT_NAME + \" only loads once. Ignoring:\", bootstrapParams) : namespace[IMPORT_API_NAME] = (libraryName, ...args) => libraries.add(libraryName) && triggerBootstrap().then(() => namespace[IMPORT_API_NAME](libraryName, ...args));\n};\n", "/*\n * Copyright 2025 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/no-empty-function */\nimport { APIOptions } from \"./index.js\";\n\nexport const MSG_DEPRECATED_LOADER =\n  \"The Loader class is no longer available in this version.\" +\n  \"\\nPlease use the new functional API: setOptions() and importLibrary().\" +\n  \"\\nFor more information, see the updated documentation at: \" +\n  \"https://github.com/googlemaps/js-api-loader/blob/main/README.md\";\n\nexport const MSG_REPEATED_SET_OPTIONS = (options: APIOptions) =>\n  `The setOptions() function should only be called once. The options passed ` +\n  `to the additional call (${JSON.stringify(options)}) will be ignored.`;\n\nexport const MSG_IMPORT_LIBRARY_EXISTS = (options: APIOptions) =>\n  `The google.maps.importLibrary() function is already defined, and ` +\n  `@googlemaps/js-api-loader will use the existing function instead of ` +\n  `overwriting it. The options passed to setOptions ` +\n  `(${JSON.stringify(options)}) will be ignored.`;\n\nexport const MSG_SET_OPTIONS_NOT_CALLED =\n  \"No options were set before calling importLibrary. Make sure to configure \" +\n  \"the loader using setOptions().\";\n\nexport const MSG_SCRIPT_ELEMENT_EXISTS =\n  \"There already is a script loading the Google Maps JavaScript \" +\n  \"API, and no google.maps.importLibrary function is defined. \" +\n  \"@googlemaps/js-api-loader will proceed to bootstrap the API \" +\n  \"with the specified options, but the existing script might cause \" +\n  \"problems using the API. Make sure to remove the script \" +\n  \"loading the API.\";\n\n// The __DEV__ global variable is set by rollup during the build process.\ndeclare const __DEV__: boolean;\n\nexport const logError = (message: string) => {\n  console.error(`[@googlemaps/js-api-loader] ${message}`);\n};\n\nexport const logDevWarning = __DEV__\n  ? (message: string) => {\n      console.warn(`[@googlemaps/js-api-loader] ${message}`);\n    }\n  : () => {};\n\nexport const logDevNotice = __DEV__\n  ? (message: string) => {\n      console.info(`[@googlemaps/js-api-loader] ${message}`);\n    }\n  : () => {};\n", "/*\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/* eslint-disable @typescript-eslint/no-explicit-any, @typescript-eslint/no-unused-vars */\n\nimport { MSG_DEPRECATED_LOADER } from \"./messages.js\";\n\n/**\n * @deprecated Use the new functional API: `setOptions()` and `importLibrary()`.\n * See the migration guide for more details: MIGRATION.md\n */\nexport class Loader {\n  constructor(...args: any[]) {\n    throw new Error(`[@googlemaps/js-api-loader]: ${MSG_DEPRECATED_LOADER}`);\n  }\n}\n", "/*\n * Copyright 2025 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bootstrap } from \"./bootstrap.js\";\n\nimport {\n  logDevNotice,\n  logDevWarning,\n  MSG_IMPORT_LIBRARY_EXISTS,\n  MSG_SCRIPT_ELEMENT_EXISTS,\n  MSG_REPEATED_SET_OPTIONS,\n  MSG_SET_OPTIONS_NOT_CALLED,\n} from \"./messages.js\";\n\nexport type APIOptions = {\n  key?: string;\n  v?: string;\n  language?: string;\n  region?: string;\n  libraries?: string[];\n  authReferrerPolicy?: string;\n  mapIds?: string[];\n  channel?: string;\n  solutionChannel?: string;\n};\n\n// FIXME: remove the second importLibrary signature and ApiLibraryMap interface\n//   once proper typings are implemented in @types/google.maps\n//   (https://issuetracker.google.com/issues/423116767)\n\ninterface APILibraryMap {\n  core: google.maps.CoreLibrary;\n  drawing: google.maps.DrawingLibrary;\n  elevation: google.maps.ElevationLibrary;\n  geocoding: google.maps.GeocodingLibrary;\n  geometry: google.maps.GeometryLibrary;\n  journeySharing: google.maps.JourneySharingLibrary;\n  maps: google.maps.MapsLibrary;\n  maps3d: google.maps.Maps3DLibrary;\n  marker: google.maps.MarkerLibrary;\n  places: google.maps.PlacesLibrary;\n  routes: google.maps.RoutesLibrary;\n  streetView: google.maps.StreetViewLibrary;\n  visualization: google.maps.VisualizationLibrary;\n}\n\ntype APILibraryName = keyof APILibraryMap;\n\n// The __DEV__ global variable is set by rollup during the build process.\ndeclare const __DEV__: boolean;\n\nlet setOptionsWasCalled_ = false;\n\n/**\n * Sets the options for the Maps JavaScript API.\n *\n * Has to be called before any library is loaded.\n *\n * See https://developers.google.com/maps/documentation/javascript/load-maps-js-api#required_parameters\n * for the full documentation of available options.\n *\n * @param options The options to set.\n */\nexport function setOptions(options: APIOptions) {\n  if (setOptionsWasCalled_) {\n    logDevWarning(MSG_REPEATED_SET_OPTIONS(options));\n\n    return;\n  }\n\n  installImportLibrary_(options);\n  setOptionsWasCalled_ = true;\n}\n\n/**\n * Imports the specified library from the Maps JavaScript API.\n *\n * The first call to this function will start actually loading the Maps\n * JavaScript API.\n *\n * @param libraryName The name of the library to load.\n * @returns A promise that resolves with the loaded library. In case of an\n *   error (due to poor network conditions, browser extensions, etc.), the\n *   returned promise is rejected with an error.\n */\nexport async function importLibrary<TLibraryName extends APILibraryName>(\n  libraryName: TLibraryName\n): Promise<APILibraryMap[TLibraryName]>;\n\nexport async function importLibrary(\n  ...parameters: Parameters<typeof google.maps.importLibrary>\n): ReturnType<typeof google.maps.importLibrary>;\n\nexport async function importLibrary(libraryName: string): Promise<unknown> {\n  if (!setOptionsWasCalled_) {\n    logDevWarning(MSG_SET_OPTIONS_NOT_CALLED);\n  }\n\n  if (!window?.google?.maps?.importLibrary) {\n    throw new Error(\"google.maps.importLibrary is not installed.\");\n  }\n\n  return (await google.maps.importLibrary(\n    libraryName\n  )) as APILibraryMap[keyof APILibraryMap];\n}\n\n/**\n * The installImportLibrary_ function makes sure that a usable version of the\n * `google.maps.importLibrary` function exists.\n */\nfunction installImportLibrary_(options: APIOptions) {\n  const importLibraryExists = Boolean(window.google?.maps?.importLibrary);\n  if (importLibraryExists) {\n    logDevNotice(MSG_IMPORT_LIBRARY_EXISTS(options));\n  } else if (__DEV__) {\n    const scriptEl = document.querySelector(\n      'script[src*=\"maps.googleapis.com/maps/api/js\"]'\n    );\n\n    if (scriptEl) {\n      logDevWarning(MSG_SCRIPT_ELEMENT_EXISTS);\n    }\n  }\n\n  // If the google.maps.importLibrary function already exists, bootstrap()\n  // won't do anything, so we won't call it\n  if (!importLibraryExists) {\n    bootstrap(options);\n  }\n}\n\n// export the deprecated (and non-functional) Loader class to trigger a strong\n// error-message for users migrating to the new version\nexport * from \"./deprecated.js\";\n"],
  "mappings": ";;;AAKM,SAAU,aAAa,QAA2B,KAAW;AACjE,SAAO,MAAM;AACf;ACOO,IAAM,YAAY,qBAAmB;AAC1C,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI,eAAe;AACnB,MAAI,SAAS;AACb,MAAI,kBAAkB;AACtB,MAAI,wBAAwB;AAC5B,MAAI,MAAM;AACV,MAAI,UAAU;AACd,MAAI,UAAU,QAAQ,MAAM,MAAM,QAAQ,MAAM,IAAI,CAAA;AACpD,MAAI,YAAY,QAAQ,SAAS,QAAQ,OAAO,CAAA;AAChD,MAAI,YAAY,oBAAI,IAAG;AACvB,MAAI,eAAe,IAAI,gBAAe;AACtC,MAAI,mBAAmB,MAAM,qBAAqB,mBAAmB,IAAI,QAAQ,OAAM,SAAS,WAAW;AACzG,WAAO,SAAS,IAAI,cAAc,QAAQ;AAC1C,iBAAa,IAAI,aAAa,CAAC,GAAG,SAAS,IAAI,EAAE;AACjD,SAAK,sBAAsB,iBAAiB;AAC1C,mBAAa,IAAI,mBAAmB,QAAQ,UAAU,OAAK,MAAM,EAAE,CAAC,EAAE,YAAW,CAAE,GAAG,gBAAgB,kBAAkB,CAAC;IAC3H;AACA,iBAAa,IAAI,YAAY,SAAS,WAAW,qBAAqB;AACtE,iBAAa,QAAQ,6CAA6C,YAAY;AAC9E,cAAU,qBAAqB,IAAI;AACnC,WAAO,UAAU,MAAM,mBAAmB,OAAO,MAAM,eAAe,kBAAkB,CAAC;AACzF,WAAO,QAAQ,IAAI,cAAc,eAAe,GAAG,SAAS;AAC5D,QAAI,KAAK,OAAO,MAAM;EACxB,CAAC;AACD,YAAU,eAAe,IAAI,QAAQ,KAAK,eAAe,+BAA+B,eAAe,IAAI,UAAU,eAAe,IAAI,CAAC,gBAAgB,SAAS,UAAU,IAAI,WAAW,KAAK,iBAAgB,EAAG,KAAK,MAAM,UAAU,eAAe,EAAE,aAAa,GAAG,IAAI,CAAC;AAChR;ACxBO,IAAM,wBACX;AAKK,IAAM,2BAA2B,CAAC,YACvC,oGAC2B,KAAK,UAAU,OAAO,CAAC;AAE7C,IAAM,4BAA4B,CAAC,YACxC,0LAGI,KAAK,UAAU,OAAO,CAAC;AAEtB,IAAM,6BACX;AAGK,IAAM,4BACX;AAcK,IAAM,gBAAgB,OACzB,CAAC,YAAmB;AAClB,UAAQ,KAAK,+BAA+B,OAAO,EAAE;AACvD,IACA,MAAK;AAAE;AAEJ,IAAM,eAAe,OACxB,CAAC,YAAmB;AAClB,UAAQ,KAAK,+BAA+B,OAAO,EAAE;AACvD,IACA,MAAK;AAAE;ICnDE,eAAM;EACjB,eAAe,MAAW;AACxB,UAAM,IAAI,MAAM,gCAAgC,qBAAqB,EAAE;EACzE;AACD;ACgDD,IAAI,uBAAuB;AAYrB,SAAU,WAAW,SAAmB;AAC5C,MAAI,sBAAsB;AACxB,kBAAc,yBAAyB,OAAO,CAAC;AAE/C;EACF;AAEA,wBAAsB,OAAO;AAC7B,yBAAuB;AACzB;AAqBO,eAAe,cAAc,aAAmB;AACrD,MAAI,CAAC,sBAAsB;AACzB,kBAAc,0BAA0B;EAC1C;AAEA,MAAI,CAAC,QAAQ,QAAQ,MAAM,eAAe;AACxC,UAAM,IAAI,MAAM,6CAA6C;EAC/D;AAEA,SAAQ,MAAM,OAAO,KAAK,cACxB,WAAW;AAEf;AAMA,SAAS,sBAAsB,SAAmB;AAChD,QAAM,sBAAsB,QAAQ,OAAO,QAAQ,MAAM,aAAa;AACtE,MAAI,qBAAqB;AACvB,iBAAa,0BAA0B,OAAO,CAAC;EACjD,WAAW,MAAS;AAClB,UAAM,WAAW,SAAS,cACxB,gDAAgD;AAGlD,QAAI,UAAU;AACZ,oBAAc,yBAAyB;IACzC;EACF;AAIA,MAAI,CAAC,qBAAqB;AACxB,cAAU,OAAO;EACnB;AACF;",
  "names": []
}
